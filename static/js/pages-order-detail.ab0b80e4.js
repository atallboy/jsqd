(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-detail"],{"0ada":function(e,t,i){"use strict";i.r(t);var n=i("a940"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},1970:function(e,t,i){var n=i("e07a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("967d").default;o("a78da870",n,!0,{sourceMap:!1,shadowMode:!1})},"2b8e":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={uniSteps:i("d983").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"fix-menu-container"},[n("v-uni-view",{staticClass:"fix-menu-wrap mix-top"},[1===e.detail.status&&"user"==e.e.user_type?n("v-uni-view",{staticClass:"menu-btn bg-color-main color-fff",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.refund.apply(void 0,arguments)}}},[e._v("申请退款")]):e._e(),3===e.detail.status&&"user"==e.e.user_type?n("v-uni-view",{staticClass:"menu-btn bg-color-main color-fff",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.jiazhong.apply(void 0,arguments)}}},[e._v("加钟")]):e._e(),1==e.detail.status&&"master"==e.e.user_type?n("v-uni-view",{staticClass:"menu-btn bg-color-main color-fff",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.start.apply(void 0,arguments)}}},[e._v("开始服务")]):e._e(),2==e.detail.status&&"user"==e.e.user_type?n("v-uni-view",{staticClass:"menu-btn bg-color-main color-fff",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.finish.apply(void 0,arguments)}}},[e._v("确认完成")]):e._e(),3==e.detail.status&&0==e.detail.is_eva&&"user"==e.e.user_type?n("v-uni-view",{staticClass:"menu-btn bg-color-main color-fff",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toEva()}}},[e._v("去评价")]):e._e()],1)],1),n("v-uni-view",{staticStyle:{padding:"20px 0 10px 0"}},[n("uni-steps",{attrs:{options:e.detail.step_list,active:e.detail.step_index}})],1),"agent"==e.e.user_type?n("v-uni-view",{staticClass:"order-info-container"},[n("v-uni-view",{staticClass:"order-info-wrap"},[n("v-uni-view",{staticClass:"order-info-label mix-bottom"},[e._v("区域代理佣金")]),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("金额：")]),e.detail.order_settle?n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.order_settle.agent_avg_fee)+"（已到账）")]):n("v-uni-view",{staticClass:"order-info-row-value"},[e._v("待结算")])],1)],1)],1):e._e(),n("v-uni-view",{staticClass:"order-info-container"},[n("v-uni-view",{staticClass:"order-info-wrap"},[n("v-uni-view",{staticClass:"order-info-label mix-bottom"},[e._v("服务技师")]),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("技师姓名：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.master_name))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("联系电话：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.master_tel))]),"user"==e.e.user_type?n("v-uni-view",{staticClass:"order-info-row-icon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.call.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:i("5baa")}})],1):e._e()],1),"master"==e.e.user_type&&e.detail.order_settle?n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("服务费：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.order_settle.master_fee)+"（已到账）")])],1):e._e()],1)],1),n("v-uni-view",{staticClass:"order-info-container"},[n("v-uni-view",{staticClass:"order-info-wrap"},[n("v-uni-view",{staticClass:"order-info-label mix-bottom"},[e._v("服务信息")]),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("服务项目：")]),n("v-uni-view",{staticClass:"order-info-row-value"},e._l(e.detail.order_product,(function(t,i){return n("v-uni-view",[e._v(e._s(t.name))])})),1)],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("服务时间：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.service_time))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("预约地址：")]),e.detail.address.remark?n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.address.address)+" （"+e._s(e.detail.address.remark)+"）")]):n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.address.address))]),n("v-uni-view",{staticClass:"order-info-row-icon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openAddress.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:i("b35e")}})],1)],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("备注：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.remark))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("预约姓名：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.address.name))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("联系电话：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.address.tel))]),"master"==e.e.user_type?n("v-uni-view",{staticClass:"order-info-row-icon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.call.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:i("5baa")}})],1):e._e()],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("下单时间：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.create_at))])],1)],1)],1),n("v-uni-view",{staticClass:"order-info-container"},[n("v-uni-view",{staticClass:"order-info-wrap"},[n("v-uni-view",{staticClass:"order-info-label mix-bottom"},[e._v("费用信息")]),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("总金额：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.total_fee))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("实际支付：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.pay_fee))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("服务金额：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.product_fee))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("出行费：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.travel_fee))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("优惠券金额：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(e.detail.coupon_fee))])],1)],1)],1),n("v-uni-view",{staticClass:"order-info-container"},[n("v-uni-view",{staticClass:"order-info-wrap"},[n("v-uni-view",{staticClass:"order-info-label"},[e._v("订单日志")]),e._l(e.detail.log,(function(t){return[n("v-uni-view",{staticClass:"mix-top",staticStyle:{padding:"10px 0"}},[n("v-uni-view",{staticStyle:{"margin-bottom":"6px","font-size":"13px","font-weight":"bold"}},[e._v(e._s(t.content))]),n("v-uni-view",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v(e._s(t.create_at))])],1)]}))],2)],1),n("v-uni-view",{staticClass:"order-info-container"},[3===e.detail.status?n("v-uni-view",{staticClass:"order-info-wrap"},[n("v-uni-view",{staticClass:"order-info-label"},[e._v("加钟记录")]),e._l(e.detail.jiazhong_record,(function(t){return[n("v-uni-view",{staticClass:"order-info-row mix-top"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("金额：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(t.product_money))])],1),n("v-uni-view",{staticClass:"order-info-row"},[n("v-uni-view",{staticClass:"order-info-row-lable"},[e._v("加钟时间：")]),n("v-uni-view",{staticClass:"order-info-row-value"},[e._v(e._s(t.create_at))])],1)]}))],2):e._e()],1),n("v-uni-view",{staticStyle:{height:"60px"}})],1)},a=[]},"33b4":function(e,t,i){var n=i("8886");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("967d").default;o("1ed1b208",n,!0,{sourceMap:!1,shadowMode:!1})},"465d":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={uniIcons:i("a6ce").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"uni-steps"},[i("v-uni-view",{class:["column"===e.direction?"uni-steps__column":"uni-steps__row"]},[i("v-uni-view",{class:["column"===e.direction?"uni-steps__column-text-container":"uni-steps__row-text-container"]},e._l(e.options,(function(t,n){return i("v-uni-view",{key:n,class:["column"===e.direction?"uni-steps__column-text":"uni-steps__row-text"]},[i("v-uni-text",{class:["column"===e.direction?"uni-steps__column-title":"uni-steps__row-title"],style:{color:n===e.active?e.activeColor:e.deactiveColor}},[e._v(e._s(t.title))]),i("v-uni-text",{class:["column"===e.direction?"uni-steps__column-desc":"uni-steps__row-desc"],style:{color:e.deactiveColor}},[e._v(e._s(t.desc))])],1)})),1),i("v-uni-view",{class:["column"===e.direction?"uni-steps__column-container":"uni-steps__row-container"]},e._l(e.options,(function(t,n){return i("v-uni-view",{key:n,class:["column"===e.direction?"uni-steps__column-line-item":"uni-steps__row-line-item"]},[i("v-uni-view",{class:["column"===e.direction?"uni-steps__column-line":"uni-steps__row-line","column"===e.direction?"uni-steps__column-line--before":"uni-steps__row-line--before"],style:{backgroundColor:n<=e.active&&0!==n?e.activeColor:0===n?"transparent":e.deactiveColor}}),n===e.active?i("v-uni-view",{class:["column"===e.direction?"uni-steps__column-check":"uni-steps__row-check"]},[i("uni-icons",{attrs:{color:e.activeColor,type:e.activeIcon,size:"14"}})],1):i("v-uni-view",{class:["column"===e.direction?"uni-steps__column-circle":"uni-steps__row-circle"],style:{backgroundColor:n<e.active?e.activeColor:e.deactiveColor}}),i("v-uni-view",{class:["column"===e.direction?"uni-steps__column-line":"uni-steps__row-line","column"===e.direction?"uni-steps__column-line--after":"uni-steps__row-line--after"],style:{backgroundColor:n<e.active&&n!==e.options.length-1?e.activeColor:n===e.options.length-1?"transparent":e.deactiveColor}})],1)})),1)],1)],1)},a=[]},"5baa":function(e,t,i){e.exports=i.p+"static/images/icon-tel.png"},"67fa":function(e,t,i){"use strict";i.r(t);var n=i("f415"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},8886:function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,"uni-page-body[data-v-cce1da9c]{background-color:#f7f7f7}body.?%PAGE?%[data-v-cce1da9c]{background-color:#f7f7f7}.order-status-container[data-v-cce1da9c]{display:flex;padding:10px 10px 5px}.order-status-wrap[data-v-cce1da9c]{display:flex;padding:10px;flex-direction:column;background-color:#fff;flex:1}.order-status-txt[data-v-cce1da9c]{display:flex;align-items:center;justify-content:center}.order-status-remark[data-v-cce1da9c]{display:flex;align-items:center;justify-content:center;color:#555;font-size:12px}.order-info-container[data-v-cce1da9c]{display:flex;padding:0 10px 10px}.order-info-wrap[data-v-cce1da9c]{display:flex;padding:5px 10px 15px;flex-direction:column;background-color:#fff;flex:1}.order-info-label[data-v-cce1da9c]{display:flex;padding:10px 0}.order-info-row[data-v-cce1da9c]{display:flex;padding:6px 0;font-size:13px}.order-info-row-lable[data-v-cce1da9c]{display:flex;color:#555;width:80px}.order-info-row-value[data-v-cce1da9c]{display:flex;color:#000;flex:1}.order-info-row-icon[data-v-cce1da9c]{display:flex;width:80px;align-items:center;justify-content:flex-end}.order-info-row-icon uni-image[data-v-cce1da9c]{width:25px;height:25px}.fix-menu-container[data-v-cce1da9c]{position:fixed;left:0;right:0;bottom:0;background-color:#fff;z-index:99999}.fix-menu-wrap[data-v-cce1da9c]{display:flex;justify-content:flex-end;padding:10px}.menu-btn[data-v-cce1da9c]{display:flex;width:80px;padding:6px 0;border:%?1?% solid #ddd;border-radius:100px;justify-content:center;font-size:13px;margin-left:6px}.btn-pay-back[data-v-cce1da9c]{color:#fff;background-color:#00c250;border-color:#00c250}",""]),e.exports=t},a1db:function(e,t,i){"use strict";i("d4b5");var n,o,a,r,s=i("3742");function c(){setTimeout((function(){"order"==r.cate&&((0,s.updateOrder)({cate:1,id:a.id}),uni.switchTab({url:"/pages/order/list"})),"jiazhong"==r.cate&&((0,s.updateOrder)({cate:3,id:a.id}),uni.redirectTo({url:"/pages/order/detail?id="+a.id})),"recharge"==r.cate&&((0,s.updateOrder)({cate:2,id:a.id}),uni.navigateTo({url:"/pages/balance/record"}))}),1500)}(function(){o=uni.getStorageSync("agent_cate"),"gzh"==o&&(n=i("c722"))})(),e.exports={toPay:function(e,t){a=e,r=t,console.log("----aa-a-"+o),"gzh"==o?function(){console.log("-----jweixin---"),console.log(n),n.config({debug:!1,appId:a.appId,timestamp:a.timeStamp,nonceStr:a.nonceStr,signature:a.paySign,jsApiList:["chooseWXPay"]}),n.ready((function(){n.checkJsApi({jsApiList:["chooseWXPay"],success:function(e){console.log("checkjsapi Success"),console.log(e)},fail:function(e){console.log("res"),console.log(e)}}),n.chooseWXPay({timestamp:a.timeStamp,nonceStr:a.nonceStr,package:a.package,signType:a.signType,paySign:a.paySign,success:function(e){console.log("paysuccess"),console.log(e),c()},cancel:function(e){},fail:function(e){console.log("payfail"),console.log(e),uni.showModal({title:"支付失败",showCancel:!1,success:function(){}})}})})),n.error((function(e){console.log("error"),console.log(e),uni.showToast({icon:"none",title:"支付失败",duration:4e3})}))}():"micro"==o&&function(){uni.requestPayment({provider:"wxpay",timeStamp:a.timeStamp,nonceStr:a.nonceStr,package:a.package,signType:a.signType,paySign:a.paySign,success:function(e){uni.showToast({title:"支付成功"}),c()},fail:function(e){console.log("fail:"+JSON.stringify(e)),uni.showModal({title:"支付失败",confirmText:"确定",showCancel:!1})},complete:function(){}})}()}}},a940:function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("64aa");var n={name:"UniSteps",props:{direction:{type:String,default:"row"},activeColor:{type:String,default:"#2979FF"},deactiveColor:{type:String,default:"#B7BDC6"},active:{type:Number,default:0},activeIcon:{type:String,default:"checkbox-filled"},options:{type:Array,default:function(){return[]}}},data:function(){return{}}};t.default=n},b35e:function(e,t,i){e.exports=i.p+"static/images/icon-location.png"},c722:function(e,t,i){var n,o=i("4550").default;i("5c47"),i("2c10"),i("5ef2"),i("aa9c"),i("a1c1"),i("d4b5"),function(a,r){n=function(){return function(e,t){if(!e.jWeixin){var i,n,a={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},r=function(){var e={};for(var t in a)e[a[t]]=t;return e}(),s=e.document,c=s.title,l=navigator.userAgent.toLowerCase(),d=navigator.platform.toLowerCase(),u=!(!d.match("mac")&&!d.match("win")),f=-1!=l.indexOf("wxdebugger"),p=-1!=l.indexOf("micromessenger"),v=-1!=l.indexOf("android"),m=-1!=l.indexOf("iphone")||-1!=l.indexOf("ipad"),g=(n=l.match(/micromessenger\/(\d+\.\d+\.\d+)/)||l.match(/micromessenger\/(\d+\.\d+)/))?n[1]:"",w={initStartTime:L(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},_={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:m?1:v?2:-1,clientVersion:g,url:encodeURIComponent(location.href)},h={},x={_completes:[]},y={state:0,data:{}};B((function(){w.initEndTime=L()}));var b=!1,C=[],S=(i={config:function(t){E("config",h=t);var i=!1!==h.check;B((function(){if(i)T(a.config,{verifyJsApiList:V(h.jsApiList),verifyOpenTagList:V(h.openTagList)},function(){x._complete=function(e){w.preVerifyEndTime=L(),y.state=1,y.data=e},x.success=function(e){_.isPreVerifyOk=0},x.fail=function(e){x._fail?x._fail(e):y.state=-1};var e=x._completes;return e.push((function(){!function(){if(!(u||f||h.debug||g<"6.0.2"||_.systemType<0)){var e=new Image;_.appId=h.appId,_.initTime=w.initEndTime-w.initStartTime,_.preVerifyTime=w.preVerifyEndTime-w.preVerifyStartTime,S.getNetworkType({isInnerInvoke:!0,success:function(t){_.networkType=t.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+_.version+"&o="+_.isPreVerifyOk+"&s="+_.systemType+"&c="+_.clientVersion+"&a="+_.appId+"&n="+_.networkType+"&i="+_.initTime+"&p="+_.preVerifyTime+"&u="+_.url;e.src=i}})}}()})),x.complete=function(t){for(var i=0,n=e.length;i<n;++i)e[i]();x._completes=[]},x}()),w.preVerifyStartTime=L();else{y.state=1;for(var e=x._completes,t=0,n=e.length;t<n;++t)e[t]();x._completes=[]}})),S.invoke||(S.invoke=function(t,i,n){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,P(i),n)},S.on=function(t,i){e.WeixinJSBridge&&WeixinJSBridge.on(t,i)})},ready:function(e){0!=y.state?e():(x._completes.push(e),!p&&h.debug&&e())},error:function(e){g<"6.0.2"||(-1==y.state?e(y.data):x._fail=e)},checkJsApi:function(e){T("checkJsApi",{jsApiList:V(e.jsApiList)},(e._complete=function(e){if(v){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=function(e){var t=e.checkResult;for(var i in t){var n=r[i];n&&(t[n]=t[i],delete t[i])}return e}(e)},e))},onMenuShareTimeline:function(e){M(a.onMenuShareTimeline,{complete:function(){T("shareTimeline",{title:e.title||c,desc:e.title||c,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){M(a.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?T("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):T("sendAppMessage",{title:e.title||c,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){M(a.onMenuShareQQ,{complete:function(){T("shareQQ",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){M(a.onMenuShareWeibo,{complete:function(){T("shareWeiboApp",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){M(a.onMenuShareQZone,{complete:function(){T("shareQZone",{title:e.title||c,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){T("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){T("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){T("startRecord",{},e)},stopRecord:function(e){T("stopRecord",{},e)},onVoiceRecordEnd:function(e){M("onVoiceRecordEnd",e)},playVoice:function(e){T("playVoice",{localId:e.localId},e)},pauseVoice:function(e){T("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){T("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){M("onVoicePlayEnd",e)},uploadVoice:function(e){T("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){T("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){T("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){T("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(v){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){T(a.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){T("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){T("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===b?(b=!0,T("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(b=!1,0<C.length){var t=C.shift();wx.getLocalImgData(t)}},e))):C.push(e)},getNetworkType:function(e){T("getNetworkType",{},(e._complete=function(e){e=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var i=e.subtype;if(delete e.subtype,i)e.networkType=i;else{var n=t.indexOf(":"),o=t.substring(n+1);switch(o){case"wifi":case"edge":case"wwan":e.networkType=o;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){T("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},o(i,"getLocation",(function(e){T(a.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))})),o(i,"hideOptionMenu",(function(e){T("hideOptionMenu",{},e)})),o(i,"showOptionMenu",(function(e){T("showOptionMenu",{},e)})),o(i,"closeWindow",(function(e){T("closeWindow",{},e=e||{})})),o(i,"hideMenuItems",(function(e){T("hideMenuItems",{menuList:e.menuList},e)})),o(i,"showMenuItems",(function(e){T("showMenuItems",{menuList:e.menuList},e)})),o(i,"hideAllNonBaseMenuItem",(function(e){T("hideAllNonBaseMenuItem",{},e)})),o(i,"showAllNonBaseMenuItem",(function(e){T("showAllNonBaseMenuItem",{},e)})),o(i,"scanQRCode",(function(e){T("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(m){var t=e.resultStr;if(t){var i=JSON.parse(t);e.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},e))})),o(i,"openAddress",(function(e){T(a.openAddress,{},(e._complete=function(e){e=function(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}(e)},e))})),o(i,"openProductSpecificView",(function(e){T(a.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)})),o(i,"addCard",(function(e){for(var t=e.cardList,i=[],n=0,o=t.length;n<o;++n){var r=t[n],s={card_id:r.cardId,card_ext:r.cardExt};i.push(s)}T(a.addCard,{card_list:i},(e._complete=function(e){var t=e.card_list;if(t){for(var i=0,n=(t=JSON.parse(t)).length;i<n;++i){var o=t[i];o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=!!o.is_succ,delete o.card_id,delete o.card_ext,delete o.is_succ}e.cardList=t,delete e.card_list}},e))})),o(i,"chooseCard",(function(e){T("chooseCard",{app_id:h.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))})),o(i,"openCard",(function(e){for(var t=e.cardList,i=[],n=0,o=t.length;n<o;++n){var r=t[n],s={card_id:r.cardId,code:r.code};i.push(s)}T(a.openCard,{card_list:i},e)})),o(i,"consumeAndShareCard",(function(e){T(a.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)})),o(i,"chooseWXPay",(function(e){T(a.chooseWXPay,A(e),e)})),o(i,"openEnterpriseRedPacket",(function(e){T(a.openEnterpriseRedPacket,A(e),e)})),o(i,"startSearchBeacons",(function(e){T(a.startSearchBeacons,{ticket:e.ticket},e)})),o(i,"stopSearchBeacons",(function(e){T(a.stopSearchBeacons,{},e)})),o(i,"onSearchBeacons",(function(e){M(a.onSearchBeacons,e)})),o(i,"openEnterpriseChat",(function(e){T("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)})),o(i,"launchMiniProgram",(function(e){T("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var t=e.split("?")[0],i=e.split("?")[1];return t+=".html",void 0!==i?t+"?"+i:t}}(e.path),envVersion:e.envVersion},e)})),o(i,"openBusinessView",(function(e){T("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion},(e._complete=function(e){if(v){var t=e.extraData;if(t)try{e.extraData=JSON.parse(t)}catch(t){e.extraData={}}}},e))})),o(i,"miniProgram",{navigateBack:function(e){e=e||{},B((function(){T("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){B((function(){T("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){B((function(){T("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){B((function(){T("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){B((function(){T("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){B((function(){T("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(t){B((function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})}))}}),i),k=1,I={};return s.addEventListener("error",(function(e){if(!v){var t=e.target,i=t.tagName,n=t.src;if(("IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i)&&-1!=n.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var o=t["wx-id"];if(o||(o=k++,t["wx-id"]=o),I[o])return;I[o]=!0,wx.ready((function(){wx.getLocalImgData({localId:n,success:function(e){t.src=e.localData}})}))}}}),!0),s.addEventListener("load",(function(e){if(!v){var t=e.target,i=t.tagName;if(t.src,"IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i){var n=t["wx-id"];n&&(I[n]=!1)}}}),!0),t&&(e.wx=e.jWeixin=S),S}function T(t,i,n){e.WeixinJSBridge?WeixinJSBridge.invoke(t,P(i),(function(e){O(t,e,n)})):E(t,n)}function M(t,i,n){e.WeixinJSBridge?WeixinJSBridge.on(t,(function(e){n&&n.trigger&&n.trigger(e),O(t,e,i)})):E(t,n||i)}function P(e){return(e=e||{}).appId=h.appId,e.verifyAppId=h.appId,e.verifySignType="sha1",e.verifyTimestamp=h.timestamp+"",e.verifyNonceStr=h.nonceStr,e.verifySignature=h.signature,e}function A(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function O(e,t,i){"openEnterpriseChat"!=e&&"openBusinessView"!==e||(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var n=t.errMsg;n||(n=t.err_msg,delete t.err_msg,n=function(e,t){var i=e,n=r[i];n&&(i=n);var o="ok";if(t){var a=t.indexOf(":");"confirm"==(o=t.substring(a+1))&&(o="ok"),"failed"==o&&(o="fail"),-1!=o.indexOf("failed_")&&(o=o.substring(7)),-1!=o.indexOf("fail_")&&(o=o.substring(5)),"access denied"!=(o=(o=o.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=o||(o="permission denied"),"config"==i&&"function not exist"==o&&(o="ok"),""==o&&(o="fail")}return i+":"+o}(e,n),t.errMsg=n),(i=i||{})._complete&&(i._complete(t),delete i._complete),n=t.errMsg||"",h.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t));var o=n.indexOf(":");switch(n.substring(o+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function V(e){if(e){for(var t=0,i=e.length;t<i;++t){var n=e[t],o=a[n];o&&(e[t]=o)}return e}}function E(e,t){if(!(!h.debug||t&&t.isInnerInvoke)){var i=r[e];i&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function L(){return(new Date).getTime()}function B(t){p&&(e.WeixinJSBridge?t():s.addEventListener&&s.addEventListener("WeixinJSBridgeReady",t,!1))}}(a)}.call(t,i,t,e),void 0===n||(e.exports=n)}(window)},d983:function(e,t,i){"use strict";i.r(t);var n=i("465d"),o=i("0ada");for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("ef6a");var r=i("828b"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"0e25ef43",null,!1,n["a"],void 0);t["default"]=s.exports},e07a:function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-steps[data-v-0e25ef43]{display:flex;width:100%;flex-direction:column}.uni-steps__row[data-v-0e25ef43]{display:flex;flex-direction:column}.uni-steps__column[data-v-0e25ef43]{display:flex;flex-direction:row-reverse}.uni-steps__row-text-container[data-v-0e25ef43]{display:flex;flex-direction:row;align-items:flex-end;margin-bottom:8px}.uni-steps__column-text-container[data-v-0e25ef43]{display:flex;flex-direction:column;flex:1}.uni-steps__row-text[data-v-0e25ef43]{display:inline-flex;flex:1;flex-direction:column}.uni-steps__column-text[data-v-0e25ef43]{padding:6px 0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:#ededed;display:flex;flex-direction:column}.uni-steps__row-title[data-v-0e25ef43]{font-size:14px;line-height:16px;text-align:center}.uni-steps__column-title[data-v-0e25ef43]{font-size:14px;text-align:left;line-height:18px}.uni-steps__row-desc[data-v-0e25ef43]{font-size:12px;line-height:14px;text-align:center}.uni-steps__column-desc[data-v-0e25ef43]{font-size:12px;text-align:left;line-height:18px}.uni-steps__row-container[data-v-0e25ef43]{display:flex;flex-direction:row}.uni-steps__column-container[data-v-0e25ef43]{display:inline-flex;width:30px;flex-direction:column}.uni-steps__row-line-item[data-v-0e25ef43]{display:inline-flex;flex-direction:row;flex:1;height:14px;line-height:14px;align-items:center;justify-content:center}.uni-steps__column-line-item[data-v-0e25ef43]{display:flex;flex-direction:column;flex:1;align-items:center;justify-content:center}.uni-steps__row-line[data-v-0e25ef43]{flex:1;height:1px;background-color:#b7bdc6}.uni-steps__column-line[data-v-0e25ef43]{width:1px;background-color:#b7bdc6}.uni-steps__row-line--after[data-v-0e25ef43]{-webkit-transform:translateX(1px);transform:translateX(1px)}.uni-steps__column-line--after[data-v-0e25ef43]{flex:1;-webkit-transform:translateY(1px);transform:translateY(1px)}.uni-steps__row-line--before[data-v-0e25ef43]{-webkit-transform:translateX(-1px);transform:translateX(-1px)}.uni-steps__column-line--before[data-v-0e25ef43]{height:6px;-webkit-transform:translateY(-13px);transform:translateY(-13px)}.uni-steps__row-circle[data-v-0e25ef43]{width:5px;height:5px;border-radius:50%;background-color:#b7bdc6;margin:0 3px}.uni-steps__column-circle[data-v-0e25ef43]{width:5px;height:5px;border-radius:50%;background-color:#b7bdc6;margin:4px 0 5px 0}.uni-steps__row-check[data-v-0e25ef43]{margin:0 6px}.uni-steps__column-check[data-v-0e25ef43]{height:14px;line-height:14px;margin:2px 0}',""]),e.exports=t},ee45:function(e,t,i){"use strict";var n=i("33b4"),o=i.n(n);o.a},ef6a:function(e,t,i){"use strict";var n=i("1970"),o=i.n(n);o.a},f415:function(e,t,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("2634")),a=n(i("2fdc"));i("e838"),i("c223");var r=i("3742"),s=i("a1db"),c={data:function(){return{e:{},detail:{address:{}},step:[{title:"技师接单"},{title:"开始服务"},{title:"服务完成"}]}},onLoad:function(e){this.e=e},onShow:function(){this.getOrderDetail()},methods:{openAddress:function(){var e=parseFloat(this.detail.address.latitude),t=parseFloat(this.detail.address.longitude),i=this;uni.showActionSheet({itemList:["腾讯地图","高德地图","百度地图"],success:function(n){console.log("选中了第"+(n.tapIndex+1)+"个按钮"),0===n.tapIndex?i.openMap("tencent",e,t):1===n.tapIndex?i.openMap("amap",e,t):2===n.tapIndex&&i.openMap("baidu",e,t)},fail:function(e){console.log(e.errMsg)}})},openMap:function(e,t,i){var n;"amap"===e?n="iosamap://navi?source=webapp&lat=".concat(t,"&lon=").concat(i,"&dev=0&style=2"):"baidu"===e?n="https://map.baidu.com/mobile/index/index?type=route&from=latlng&lat=".concat(t,"&lng=").concat(i,"&mode=driving"):"tencent"===e&&(n="https://map.qq.com/routeplan?type=drive&to=".concat(t,",").concat(i)),window.location.href=n},openAmap:function(e,t){var i="https://m.amap.com/navi/?dest=".concat(t,",").concat(e,"&destName=目标位置&key=3cad22f9cee0a568d167322d3cea6d78");window.location.href=i},openBaiduMap:function(e,t){var i="https://api.map.baidu.com/marker?location=".concat(e,",").concat(t,"&title=目标位置&content=目的地描述&output=html&src=webapp.baidu.openAPIdemo");window.location.href=i},openTencentMap:function(e,t){var i="https://apis.map.qq.com/uri/v1/marker?marker=coord:".concat(e,",").concat(t,";title=目标位置&referer=uniapp");window.location.href=i},call:function(){var e,t=this;1==this.detail.is_privacy_tel?("user"==this.e.user_type&&(e=this.detail.address.tel),"master"==this.e.user_type&&(e=this.detail.master_tel),uni.showModal({title:"温馨提示",content:"请使用手机号码："+e+" 拨打，否则无法接通",cancelText:"取消",confirmText:"确认",success:function(e){e.confirm?(console.log("用户点击确定"),t.getPrivacyPhoneNumber()):e.cancel&&console.log("用户点击取消")}})):("user"==this.e.user_type&&uni.makePhoneCall({phoneNumber:this.detail.master_tel}),"master"==this.e.user_type&&uni.makePhoneCall({phoneNumber:this.detail.address.tel}))},getPrivacyPhoneNumber:function(){var e=this;return(0,a.default)((0,o.default)().mark((function t(){var i;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"正在获取隐私电话"}),t.next=3,(0,r.getPrivacyAxb)({order_id:e.detail.id,user_type:e.e.user_type});case 3:i=t.sent,uni.hideLoading(),uni.makePhoneCall({phoneNumber:i.data.data});case 6:case"end":return t.stop()}}),t)})))()},getOrderDetail:function(){var e=this;return(0,a.default)((0,o.default)().mark((function t(){var i;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.orderDetail)(e.e);case 2:i=t.sent,e.detail=i.data.data;case 4:case"end":return t.stop()}}),t)})))()},jiazhongDo:function(){var e=this;return(0,a.default)((0,o.default)().mark((function t(){var i;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e,t.next=3,(0,r.orderJiazhong)(e.e);case 3:return i=t.sent,s.toPay(i.data.data,{cate:"jiazhong"}),e.getOrderDetail(),t.abrupt("return");case 8:case"end":return t.stop()}}),t)})))()},jiazhong:function(){var e=this;uni.showModal({content:"确认加钟吗",success:function(t){t.confirm&&e.jiazhongDo()}})},orderDoThing:function(e){var t=this;return(0,a.default)((0,o.default)().mark((function i(){return(0,o.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.e.op=e,i.next=3,(0,r.orderDo)(t.e);case 3:t.getOrderDetail();case 4:case"end":return i.stop()}}),i)})))()},start:function(){var e=this;uni.showModal({content:"确认开始服务吗",success:function(t){t.confirm&&e.orderDoThing("startService")}})},finish:function(){var e=this;uni.showModal({content:"确认完成服务吗？",success:function(t){t.confirm&&e.orderDoThing("finish")}})},toEva:function(){uni.navigateTo({url:"/pages/eva/submit?order_id="+this.detail.id})},toOrderOp:function(e){var t=this;return(0,a.default)((0,o.default)().mark((function i(){return(0,o.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.e.op=e,console.log(e),i.next=4,(0,r.orderDo)(t.e);case 4:console.log("执行啊退款接口回来额"),"refund"==e&&(t.getOrderDetail(),uni.showToast({title:"退款成功啦"}));case 6:case"end":return i.stop()}}),i)})))()},refund:function(){uni.navigateTo({url:"/pages/order/refund?order_id="+this.detail.id})}}};t.default=c},faa0:function(e,t,i){"use strict";i.r(t);var n=i("2b8e"),o=i("67fa");for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("ee45");var r=i("828b"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"cce1da9c",null,!1,n["a"],void 0);t["default"]=s.exports}}]);