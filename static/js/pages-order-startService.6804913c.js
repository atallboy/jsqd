(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-startService"],{"084d":function(e,t,a){"use strict";a.r(t);var i=a("c524"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"26f5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABACAYAAABFqxrgAAAAAXNSR0IArs4c6QAAAdtJREFUeF7tnLFOAkEQhmfhIYw+gI2FtjYGe2NioU/ADlDoM2htYmIjyeyFB9BGo5UNvoCNnSYmNj6BNYxZ7iCX8yQkB+S4/a+A5AIH8/H/s3uzOxhKDma+JaI9Ilobn6vw8wcRPYvIqY/R+Adm1goHPC20exE5Msz8QESHgUIgVe14CN9EtBEwhCsPIc8KF8Ph8DGKoteqwGm1Wruq6ohoKxNTlAfhTkROqhJ8Ng5rbd8Y00id/wuhXq9vd7vdt6pCYOYzIrqeCkFERiNGVY9ms9mo1Wp9QACEEirBWrszGAw+e73ezzIsWDo7pDL1l6peOuduFg2iVBCstZvGmPdU0KMpbFAQsr+Iqr445/YBARCgBH83BzsAAhGU4EcEKAEQ4pkBlAAIUMKkuAE7wA6wA+yQLngiJ6xSTmDm9aRmf7zo4keB6/tVsycROc+7RuHyWrvdPvDLcwW+4NLe+t/6CSAQUWEIsMOchYxCa44sMUSu0hA5T0fADrBDrCcoARCghEluhR1gB9gBdkhPtpATkBOQE5ATkBMyt6DYwpcACX4z51gYwW/rnWeRZtZrFa42z/pBZX4dIMy67oD2n1jHaARL/BxcSyCaQ9EmrB00jPuG8fGYHvJfB/wCH+4T7NMy11kAAAAASUVORK5CYII="},"30f7":function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},a("7a76"),a("c9b5")},3216:function(e,t,a){"use strict";a.r(t);var i=a("9fd9"),n=a("084d");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("ee8d");var r=a("828b"),c=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"2e83fc9a",null,!1,i["a"],void 0);t["default"]=c.exports},"323a":function(e,t,a){"use strict";a.r(t);var i=a("e8ea"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},4733:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(Array.isArray(e))return(0,i.default)(e)};var i=function(e){return e&&e.__esModule?e:{default:e}}(a("8d0b"))},"99f5":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,".pic-list[data-v-2e83fc9a]{display:flex;flex-wrap:wrap}.pic-item[data-v-2e83fc9a]{display:flex;margin:0 8px 8px 0;position:relative}.pic-item uni-image[data-v-2e83fc9a]{width:60px;height:60px}.delete-icon[data-v-2e83fc9a]{position:absolute;right:0;top:0;width:25px;height:25px;z-index:99;text-align:center}",""]),e.exports=t},"9fd9":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uniIcons:a("a6ce").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[1==e.styleCate?i("v-uni-view",[e._v("点击上传")]):e._e(),2==e.styleCate?i("v-uni-view",{staticClass:"pic-list"},[e._l(e.localUploadArr,(function(t,a){return i("v-uni-view",{key:a,staticClass:"pic-item"},[i("v-uni-view",{staticClass:"delete-icon"},[i("uni-icons",{attrs:{type:"clear",size:"20"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePic(a)}}})],1),i("v-uni-image",{attrs:{src:t},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.previewImage(t,a)}}})],1)})),e.localUploadArr.length<e.picNum?i("v-uni-view",{staticClass:"pic-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadTap.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:a("26f5")}})],1):e._e()],2):e._e()],1)},o=[]},b7c7:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)||(0,n.default)(e)||(0,o.default)(e)||(0,r.default)()};var i=c(a("4733")),n=c(a("d14d")),o=c(a("5d6b")),r=c(a("30f7"));function c(e){return e&&e.__esModule?e:{default:e}}},bc59:function(e,t,a){var i=a("d9a3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("6cca3b28",i,!0,{sourceMap:!1,shadowMode:!1})},c524:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("b7c7"));a("64aa"),a("dd2b"),a("bf0f"),a("2797"),a("aa9c");var o={name:"yj-upload",emits:["clickUpload","clickDeletePic"],props:{styleCate:{type:Number,default:1},showPic:{type:Boolean,default:!0},picNum:{type:Number,default:1},picArr:{type:Array,default:[]}},data:function(){return{uploadArr:[],localUploadArr:[]}},mounted:function(){this.uploadArr=(0,n.default)(this.picArr),this.localUploadArr=(0,n.default)(this.picArr)},watch:{picArr:function(e){this.uploadArr=(0,n.default)(e),this.localUploadArr=(0,n.default)(e)}},methods:{previewImage:function(e,t){uni.previewImage({urls:this.localUploadArr,current:e})},deletePic:function(e){this.localUploadArr.splice(e,1),this.uploadArr.splice(e,1),this.$emit("clickDeletePic",this.uploadArr)},uploadTap:function(){var e=this,t=this.picNum-this.uploadArr.length;uni.chooseImage({count:t,sizeType:["compressed"],success:function(t){var a=t.tempFilePaths;a.forEach((function(t){e.localUploadArr.push(t)})),a.forEach((function(t,i){e.uploadPic(t,e.localUploadArr.length-a.length+i)}))}})},uploadPic:function(e,t){var a=this;uni.uploadFile({url:uni.getStorageSync("siteroot")+"/api/upload",filePath:e,name:"file",success:function(e){var i=e.data;-1!==t&&(a.$set(a.localUploadArr,t,i),a.uploadArr.push(i)),a.$emit("clickUpload",a.uploadArr)}})}}};t.default=o},d14d:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},a("01a2"),a("e39c"),a("bf0f"),a("844d"),a("18f7"),a("de6c"),a("08eb")},d373:function(e,t,a){"use strict";a.r(t);var i=a("da0d"),n=a("323a");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("dff3");var r=a("828b"),c=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"00948e83",null,!1,i["a"],void 0);t["default"]=c.exports},d9a3:function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,"uni-page-body[data-v-00948e83]{background-color:#fff}body.?%PAGE?%[data-v-00948e83]{background-color:#fff}uni-button[data-v-00948e83]{width:90%;height:40px;border-radius:100px;line-height:40px;font-size:15px}.yj-container[data-v-00948e83]{padding:10px}.form-textarea[data-v-00948e83]{padding:10px;padding:10px;border-radius:4px;background-color:#f2f7f8}.form-textarea uni-textarea[data-v-00948e83]{min-height:100px;width:100%}.form-textarea .form-textarea-placeholder[data-v-00948e83]{font-size:13px}.pic-container[data-v-00948e83]{padding:10px 0;display:flex;flex-wrap:wrap}.pic-container .pic-item[data-v-00948e83]{display:flex;width:27vw;height:27vw;border-radius:4px;margin-right:10px;margin-bottom:10px}.pic-container .pic-item uni-image[data-v-00948e83]{width:100%;height:100%;border-radius:4px}.pic-container .sel-btn[data-v-00948e83]{background-color:#f2f7f8;align-items:center;justify-content:center}.btn-container[data-v-00948e83]{padding:50px 10px 0}.btn-item[data-v-00948e83]{border-radius:100px;display:flex;align-items:center;justify-content:center;height:42px;font-weight:600}.btn-confirm[data-v-00948e83]{background-color:var(--mainColor);color:#fff;margin-bottom:30px}.btn-cancel[data-v-00948e83]{background-color:#f2f7f8;color:#444}.yj-footer[data-v-00948e83]{margin-top:50px;display:flex;color:#bbb;padding:10px 30px 50px;flex-direction:column;align-items:center;justify-content:center}.yj-footer-title[data-v-00948e83]{display:flex;align-items:center;height:30px}.yj-footer-blk[data-v-00948e83]{display:flex;flex:1}.yj-footer-blk-line[data-v-00948e83]{width:50px;height:1px;background-color:#f1f1f1}.yj-footer-title-txt[data-v-00948e83]{display:flex;padding:0 20px}.yj-footer-desc[data-v-00948e83]{font-size:11px;margin-top:10px}.daka-box[data-v-00948e83]{padding:%?40?%}.ydq-title[data-v-00948e83]{text-align:center;padding:%?20?%;font-size:%?30?%}",""]),e.exports=t},da0d:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={yjUpload:a("3216").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"yj-container"},[a("v-uni-view",{staticStyle:{"background-color":"#fff",padding:"12px",border:"2px solid #555","border-radius":"10px","margin-top":"5px"}},[a("v-uni-view",{},[a("v-uni-view",{staticStyle:{"font-size":"17px",color:"rgb(51, 51, 51)","font-weight":"600"}},[e._v("上传照片")]),a("v-uni-view",{staticStyle:{"font-size":"11px",color:"rgb(138, 138, 138)"}},[e._v("可上传相关照片，比如抵达客户附近位置的地标照片等，有利于您保障自身权益")])],1),a("v-uni-view",{staticStyle:{display:"flex","padding-top":"10px","flex-wrap":"wrap"}},[a("yj-upload",{attrs:{styleCate:2,picArr:e.imgArr,picNum:6,showPicType:2},on:{clickUpload:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadPic.apply(void 0,arguments)},clickDeletePic:function(t){arguments[0]=t=e.$handleEvent(t),e.clickPic.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"btn-container"},[a("v-uni-view",{staticClass:"btn-item btn-confirm",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit()}}},[e._v("开始服务")]),a("v-uni-view",{staticClass:"btn-item btn-cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.navigateBack()}}},[e._v("取消")])],1)],1)],1)},o=[]},dca1:function(e,t,a){var i=a("99f5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("3c5076d2",i,!0,{sourceMap:!1,shadowMode:!1})},dff3:function(e,t,a){"use strict";var i=a("bc59"),n=a.n(i);n.a},e8ea:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d4b5"),a("aa9c");var n=i(a("2634")),o=i(a("2fdc")),r=a("3742"),c={data:function(){return{e:{},imgArr:[],host:"",content:"",formData:{i:uni.getStorageSync("i"),token:uni.getStorageSync("token")}}},onLoad:function(e){this.e=e},onShow:function(){this.host=uni.getStorageSync("siteroot")},methods:{submit:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e,a=e.imgArr.join("&"),t.next=4,(0,r.orderDo)({op:"startService",id:e.e.id,pic:a});case 4:uni.showToast({title:"已开始服务"}),setTimeout((function(){uni.navigateBack()}),1500);case 6:case"end":return t.stop()}}),t)})))()},uploadPic:function(e){this.imgArr=e},clickDeletePic:function(e){this.imgArr=e},bindInput:function(e){console.log(e),this.content=e.detail.value},navigateBack:function(){uni.navigateBack()},uploadImage:function(){var e=this;uni.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var a=t.tempFilePaths;uni.showLoading();for(var i=0;i<a.length;i++)e.batchUpl(a[i],i,a.length)}})},uploadVideo:function(e){var t=this,a=e.currentTarget.dataset.k,i=e.currentTarget.dataset.v;wx.chooseVideo({count:1,sourceType:["album","camera"],success:function(e){var n=e.tempFilePath;console.log(n),wx.showLoading(),t.batchUpl(n,0,1,a,i)}})},batchUpl:function(e,t,a){console.log("tempFilePaths[i]"),console.log(e);var i=this,n=uni.getStorageSync("siteroot")+"/uploadFile?i="+uni.getStorageSync("i");uni.uploadFile({url:n,filePath:e,name:"file",formData:{return_type:"id"},success:function(e){console.log(e.data);var n=JSON.parse(JSON.stringify(i.imgArr));n.push(e.data),i.imgArr=n,t+1==a&&uni.hideLoading()}})}}};t.default=c},ee8d:function(e,t,a){"use strict";var i=a("dca1"),n=a.n(i);n.a}}]);